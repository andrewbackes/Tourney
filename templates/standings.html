<!-- Template for tourney results -->
<html>
	<head>
		<title>Standings</title>
		<script> var title="Standings"; var eventTitle = "{{ .Event }}"; </script>
		<link href="resources/style.css" rel="stylesheet" type="text/css">
		<style>
			#info {
				display: flex;
			}
			#infolocal {
				flex-grow: 0;
			}
			#infocontrol {
				flex-grow: 0;
			}
			#infobook {
				flex-grow: 0;
			}
			.matchup {
				margin-left: 20px;
			}
		</style>
	</head>

	<body>
		<div id="main">
			{{ template "_header.html" . }}
			{{ $event := .Event }}
			<div id="content">
				<div id="info">
					<div id="infolocal">
						<table>
							<tr>
								<th>Event</th>
								<td>{{ $event }}</td>
							</tr>
							<tr>
								<th>Site</th>
								<td>{{ .Site }}</td>
							</tr>
							<tr>
								<th>Date</th>
								<td>{{.Date}}</td>
							</tr>
						</table>
					</div>
					<div id="infocontrol">
						<table>
							<tr>
								<th>Moves per Control</th>
								<td>{{.Moves}}</td>
							</tr>
							<tr>
								<th>Time</th>
								<td>{{.Time}}ms</td>
							</tr>
							<tr>
								<th>Bonus Time</th>
								<td>+{{.BonusTime}}</td>
							</tr>
						</table>
					</div>
					<div id="infobook">
						<table>
							<tr>
								<th>Book Moves</th>
								<td>{{.BookMoves}}</td>
							</tr>
							<tr>
								<th>Randomized</th>
								<td>{{.RandomBook}}</td>
							</tr>
							<tr>
								<th>Repeating</th>
								<td>{{.Repeating}}</td>
							</tr>
						</table>
					</div>
				</div>
				<div id="overall_standings">
					<!-- Standings -->
					<h3>Overall</h3>
					<table>
						<tr>
							<th>#</th>
							<th>Engine</th>
							<th>W-L-D</th>
							<th>Incomplete</th>
							<th>Score</th>
							<th>Played</th>
							<th>Win %</th>
						</tr>
						{{ range $i, $v := .PlayerStandings.OverallStandings }}
						<tr>
							<td><script> document.write({{$i}}+1);</script></td>
							<td>{{ .Name }}</td>
							<td>{{ .Wins }}-{{ .Losses }}-{{ .Draws }}</td>
							<td>{{ .Incomplete }}</td>
							<td>{{ .Score }}</td>
							<td>{{.TotalGames}}</td>
							<td>{{ .Rate }}%</td>
						</tr>
						{{ end }}
					</table>
				</div>
				<div id="matchups">
					<!-- Matchups -->
					<h3>Matchups</h3>
					{{ range $i, $player := .PlayerStandings.Players }}
					<h4><script> document.write({{$i}}+1);</script>. {{$player}} (vs)</h4>
					<table class="matchup">
						<tr>
							<th>#</th>
							<th>Engine</th>
							<th>W-L-D</th>
							<th>Incomplete</th>
							<th>Score</th>
							<th>Played</th>
							<th>Win %</th>
						</tr>
						 {{ range $j, $record := $.PlayerStandings.MatchupStandings $player }}
						<tr>
							<td><script> document.write({{$j}}+1);</script></td>
							<td>{{ .Name }}</td>
							<td>{{ .Wins }}-{{ .Losses }}-{{ .Draws }}</td>
							<td>{{ .Incomplete }}</td>
							<td>{{ .Score }}</td>
							<td>{{.TotalGames}}</td>
							<td>{{ .Rate }}%</td>
						</tr>
						{{ end }}
					</table>
					{{ end }}
				</div>
			</div>
		</div>
		{{ template "_footer.html" . }}
		<script type="text/javascript" src="resources/styletables.js"></script>
	</body>
</html>